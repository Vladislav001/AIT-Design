<link rel="stylesheet" href="/css/styleTestSettings.css">
<% layout('layout/page') -%>
<% block('title') -%>

<form class="form_testSetting" name="testSetting">
<h3><b>Settings</b></h3><%=loginStudent%>


  <div class="checkbox">
    <label><input type="checkbox" name="checkText" value="True" id="checkText">Text</label>
  </div>
  <div class="checkbox">
    <label><input type="checkbox" value="" id="checkSound" checked>Sound</label>
  </div>
  <div class="checkbox">
    <label><input type="checkbox" value="" id="checkSwap" checked>Swap</label>
  </div>
  <div class="checkbox checkSwapFinger">
    <label id="checkSwapFingerText"><input type="checkbox" value="" id="checkSwapFinger" checked>Finger</label>
  </div>
  <div class="checkbox checkSwapArrows">
    <label id="checkSwapArrowsText"><input type="checkbox" value="" id="checkSwapArrows" checked>Arrows</label>
  </div>
  <div class="checkbox">
    <label><input type="checkbox" value="" id="checkProgressBar" checked>Progress bar</label>
  </div>
  <div class="checkbox">
    <label><input type="checkbox" value="" disabled><div class="btnResult">Btn Results</div></label>
  </div>

  <div class="styleImages">

  <h5><b><div class="styleImagesSwap">Style Images: Swap arrows</div></b></h5>
  <input type="range" name="styleImagesSwap" value="1" min="1" max="5" id="styleImagesSwap" >
  <button type="button" class="btn btn-primary settings" data-loading-text="Adding..." disabled>Add</button>
  <!-- <button type="submit" class="btn btn-primary settings" data-loading-text="Adding..." disabled>Add</button> -->

  <h5><b>Style Images: Like/Dislike</b></h5>
  <input type="range" value="1" min="1" max="5" id="styleImagesLikeDislike">
  <button type="button" class="btn btn-primary settings" data-loading-text="Adding..." disabled>Add</button>

  <h5><b>Style Image: STOP TEST</b></h5>
  <input type="range" value="1" min="1" max="5" id="styleImagesStopTest">
  <button type="button" class="btn btn-primary settings" data-loading-text="Adding..." disabled>Add</button>

  <h5><b><div class="styleImageResults">Style Image: Results</div></b></h5>
  <div class="inputStyleImageResults">
    <input type="range" value="1" min="1" max="5" id="styleImagesResults" disabled>
  </div>
  <button type="button" class="btn btn-primary settings" data-loading-text="Adding..." disabled>Add</button>

  <h5><b><div class="styleImageFinish">Style Image: Finish</div></b></h5>
  <div class="inputStyleImageFinish">
  <input type="range" value="1" min="1" max="5" id="styleImagesFinish" disabled>
  </div>
  <button type="button" class="btn btn-primary settings" data-loading-text="Adding..." disabled>Add</button>

  </div>


    <br>
    <h5><b>Language</b></h5>
    <SELECT name="Language" type="text" class="form-control" id="input-Language" disabled>
      <OPTION>English</OPTION>
      <OPTION>Russian</OPTION>
    </SELECT>


  <br><br><br>
  <div class="form-group">
    <label class="btn-acceptSettings">
      <button type="submit" class="btn btn-primary" id="updateTestSettings">Accept settings</button>
      <span class="help-block error"></span>
      </label>
  </div>

</form>
  </div>

<form class="form-testImages" name="testImages">
  <h1><b>AIT</b></h1>

<div class="ImageStopTest">
<img src="/imagesDefault/1234.png" class="img-responsive stopTest" id="styleStopTest_1">
<img src="/imagesDefault/4321.png" class="img-responsive stopTest" id="styleStopTest_2">
</div>

    <div class="wrapper">

    <div class="left">
      <img src="/imagesDefault/1234.png" class="img-responsive notConstantly" id="imageBack">
      <img src="/imagesDefault/1234.png" class="img-responsive constantly">
    </div>

    <div class="center">
      <h3 class="notConstantly" id="textQuestion">Text question</h3>
      <img src="/imagesDefault/1234.png" class="img-responsive constantly">
    </div>

    <div class="right">
      <img src="/imagesDefault/1234.png" class="img-responsive notConstantly" id="imageNext">
      <img src="/imagesDefault/1234.png" class="img-responsive constantly">
    </div>

</div>
    <br><br>
    <div class="progress" id="progressBar">
      <div class="progress-bar progress-bar-striped active" role="progressbar"
      aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:40%">
        40%
      </div>
    </div>

<ul class="pagination">
  <li class="active"><span>Test</span></li>
  <li><a href="<%=linkUserTrainingSettings%>">User training</a></li>
  <li><a href="<%=linkPreResultSettings%>">Pre-result</a></li>
  <li><a href="<%=linkResultSettings%>">Result</a></li>
  <li><a href="<%=linkFinishSettings%>">Finish</a></li>
</ul>



<script>

document.getElementById('checkText').onclick = function() {
    if ( this.checked ) {
  $("#textQuestion").css("opacity","1");
    } else {
       $("#textQuestion").css("opacity","0");
    }
};


document.getElementById('checkSwap').onclick = function() {
    if ( this.checked ) {
      $("#checkSwapFinger").css("opacity","1");
      $( "#checkSwapFinger" ).prop( "disabled", false );
      $("#checkSwapFingerText").css("opacity","1");
      $( "#checkSwapArrows" ).prop( "disabled", false );
      $("#checkSwapArrows").css("opacity","1");
      $("#checkSwapArrowsText").css("opacity","1");

      $('#checkSwapFinger').prop('checked', true);
      $('#checkSwapArrows').prop('checked', true);

      $("#imageBack").css("opacity","1");
      $("#imageNext").css("opacity","1");
      $("#styleImagesSwap").css("opacity","1");
      document.getElementById("styleImagesSwap").disabled = false;
      $(".styleImagesSwap").css("opacity","1");

    } else {
      $("#checkSwapFinger").css("opacity","0.5");
      $( "#checkSwapFinger" ).prop( "disabled", true );
      $("#checkSwapFinger").removeAttr("checked"); // снимает галочку

      $("#checkSwapArrows").css("opacity","0.5");
      $( "#checkSwapArrows" ).prop( "disabled", true );
      $("#checkSwapArrows").removeAttr("checked"); // снимает галочку

      $("#checkSwapFingerText").css("opacity","0.5");
      $("#checkSwapArrowsText").css("opacity","0.5");

      $("#imageBack").css("opacity","0");
      $("#imageNext").css("opacity","0");

      $("#styleImagesSwap").css("opacity","0.5");
     document.getElementById("styleImagesSwap").disabled = true;
     $(".styleImagesSwap").css("opacity","0.5");

    }
};

document.getElementById('checkSwapArrows').onclick = function() {
    if ( this.checked ) {
  $("#imageBack").css("opacity","1");
  $("#imageNext").css("opacity","1");
  $("#styleImagesSwap").css("opacity","1");
  document.getElementById("styleImagesSwap").disabled = false;
  $(".styleImagesSwap").css("opacity","1");
    } else {
       $("#imageBack").css("opacity","0");
       $("#imageNext").css("opacity","0");
       $("#styleImagesSwap").css("opacity","0.5");
       $(".styleImagesSwap").css("opacity","0.5");
      document.getElementById("styleImagesSwap").disabled = true;
    }
};

document.getElementById('checkProgressBar').onclick = function() {
    if ( this.checked ) {
  $("#progressBar").css("opacity","1");
    } else {
       $("#progressBar").css("opacity","0");
    }
};

// Имитация клика на элемент
setTimeout(function(){
  $('#styleImagesStopTest').trigger('click');
}, 0);
document.getElementById('styleImagesStopTest').onclick = function() {
var styleImagesStopTest = $("#styleImagesStopTest").val();
switch (styleImagesStopTest) {
    case "1":
      $("#styleStopTest_1").css("display","block");
      $("#styleStopTest_2").css("display","none");
      break;
    case "2":
    $("#styleStopTest_1").css("display","none");
    $("#styleStopTest_2").css("display","block");
      break;
  }
console.log(styleImagesStopTest);
};


// if ($("checkText").val()==="True"){
//       $('#checkText').prop('checked', true);
//     }

</script>
<script>
if ($("checkText").val()==="True"){
      $('#checkText').prop('checked', true);
    }
</script>

<script>
// Клиентский код //
// name="testSetting" !!!
  $(document.forms['testSetting']).on('submit', function() {
    var form = $(this);

    $('.error', form).html('');
    $(":submit", form).button("loading");

    // Этот логин, пароль отправляется на сервер
    $.ajax({
      url: "/updateTestSettings/id<%=id%>", // роут: require('./login').post
      method: "POST",
      data: form.serialize(),
      complete: function() {
        $(":submit", form).button("reset");
      }
      // ,
      // statusCode: {
      //   // если ответ сервера 200 - перенаправляем человека в личный кабинет
      //   200: function() {
      //     form.html("Вы вошли в сайт").addClass('alert-success');
      //     window.location.href = "/personalArea";
      //   },
      //   // если 403 - высвечивается ошибка
      //   403: function(jqXHR) {
      //     var error = JSON.parse(jqXHR.responseText);
      //     $('.error', form).html(error.message);
      //   }
      // }
    });  //window.location.href = "/user_training_settings/id:idT";
  //return false;
  });
</script>
